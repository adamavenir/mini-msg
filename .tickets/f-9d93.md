---
id: f-9d93
status: open
deps: [f-966c]
links: []
created: 2026-01-25T11:09:13Z
type: task
priority: 2
assignee: Adam Avenir
parent: f-d1ae
---
# Phase 5: Split chat thread commands

Split internal/chat/commands_thread.go by command family.

Suggested file layout:
- internal/chat/commands_thread_create.go: runThreadCommand/runSubthreadCommand/createThread + parseThreadArgs.
- internal/chat/commands_thread_actions.go: fave/unfave/mute/unmute/follow/unfollow/archive/restore/rename handlers.
- internal/chat/commands_thread_move.go: runMvCommand/runMvMessageCommand/runMvThreadCommand + isRoomDestination.
- internal/chat/commands_thread_helpers.go: getTargetThread/resolveThreadRef/checkMetaPathCollision/isAncestorOf.

Keep model behavior and UI messages unchanged.

## Acceptance Criteria

commands_thread.go split into focused files; behavior unchanged. go test ./internal/chat passes. Commit with message like 'refactor(chat): split thread commands'.

